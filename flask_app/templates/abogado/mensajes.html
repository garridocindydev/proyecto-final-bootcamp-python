{% extends 'base.html' %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl font-bold">Mensajes del Juicio</h1>
        <a href="{{ url_for('abogado_juicios') }}" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
            Volver a Juicios
        </a>
    </div>

    <div class="bg-white shadow-md rounded-lg p-6 mb-6">
        <h2 class="text-xl font-semibold mb-4">Detalles del Juicio</h2>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div>
                <p class="text-gray-600">ID Pagar√©</p>
                <p class="font-medium">{{ juicio.id_pagare }}</p>
            </div>
            <div>
                <p class="text-gray-600">Rol</p>
                <p class="font-medium">{{ juicio.rol }}</p>
            </div>
            <div>
                <p class="text-gray-600">Tribunal</p>
                <p class="font-medium">{{ juicio.tribunal }}</p>
            </div>
            <div>
                <p class="text-gray-600">Incautador</p>
                <p class="font-medium">{{ juicio.incautador.nombre if juicio.incautador else 'No asignado' }}</p>
            </div>
        </div>
    </div>

    <div class="space-y-4">
        {% for mensaje in mensajes %}
        <div class="bg-white shadow-md rounded-lg p-4">
            <div class="flex justify-between items-start mb-2">
                <div>
                    <p class="font-semibold">{{ mensaje.emisor.nombre }}</p>
                    <p class="text-sm text-gray-500">{{ mensaje.created_at.strftime('%d/%m/%Y %H:%M') }}</p>
                </div>
                <span class="px-2 py-1 text-sm rounded {% if mensaje.emisor.rol == 'incautador' %}bg-blue-100 text-blue-800{% else %}bg-green-100 text-green-800{% endif %}">
                    {{ mensaje.emisor.rol|title }}
                </span>
            </div>
            <p class="text-gray-700">{{ mensaje.contenido }}</p>
        </div>
        {% else %}
        <div class="text-center py-8 text-gray-500">
            No hay mensajes para mostrar
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
